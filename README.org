#+caption: CARBS
[[file:pics/carbs.jpg]]

* CARBS v0.3.1

Chad Arch Random Bootstrap Scripts - bootstrap a fresh Arch Linux into a comfy daily driver.

* Install

** Prerequisites

Fresh Arch install with network access. Ensure your user is in the wheel group:

#+begin_example
%wheel ALL=(ALL) ALL
#+end_example

** Quick Install

#+begin_src sh
curl -fsSL https://raw.githubusercontent.com/sthysel/carbs/main/install.sh | bash
cd ~/.config/dotfiles
tuckr set \*
#+end_src

** Manual Install

#+begin_src sh
sudo pacman -S --needed git base-devel
git clone https://aur.archlinux.org/yay.git && cd yay && makepkg -si && cd ..
yay -S tuckr
git clone https://github.com/sthysel/carbs.git ~/.config/dotfiles
cd ~/.config/dotfiles
tuckr set \*
#+end_src

* Tuckr

CARBS uses Tuckr to manage dotfiles.

** Structure

#+begin_example
~/.config/dotfiles/
├── Configs/     # Dotfile packages
├── Hooks/       # pre.sh/post.sh scripts per package
└── Secrets/     # GPG-encrypted sensitive files
#+end_example

** Commands

| Command                | Purpose                     |
|------------------------+-----------------------------|
| =tuckr status=         | Show deployment status      |
| =tuckr set <group>=    | Deploy + run hooks          |
| =tuckr add <group>=    | Deploy (symlink only)       |
| =tuckr rm <group>=     | Undeploy                    |
| =tuckr add -f <group>= | Force deploy (override)     |
| =tuckr set \*=         | Deploy all + run all hooks  |

** Hooks

#+begin_example
Hooks/<package>/
├── pre.sh      # Before symlinking (install deps)
└── post.sh     # After symlinking (enable services)
#+end_example

** Secrets

#+begin_src sh
tuckr encrypt ~/.ssh/id_rsa     # Encrypt file
tuckr decrypt                   # Decrypt all
#+end_src
